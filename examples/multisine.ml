open Process

let freqs =
  [ 1945.1736867266
  ; 946.96546095283
  ; 3666.7441181312
  ; 102.91582208076
  ; 466.92066649006
  ; 384.96994290932
  ; 1127.1654678533
  ; 7440.2504381258
  ; 49.253285579422
  ; 889.8932075569
  ; 4730.6963219298
  ; 2254.4499314231
  ; 403.44745518918
  ; 4344.1212199974
  ; 31.070504727411
  ; 4986.066681034
  ; 188.80270096414
  ; 617.03333522937
  ; 688.15090106403
  ; 323.61099511026 ]

let _ =
  let stream =
    List.map (fun f -> sinosc ~.f) freqs |> splay ||> fun s -> s *~ ~.0.1
  in
  Jack.play 0 Process.sample_rate stream
